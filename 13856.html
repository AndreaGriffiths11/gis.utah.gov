<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Mac OSX + VMware Fusion + ESRI's ArcGIS Server</title>
  <meta name="description" content="While there's endless arguments about whether Mac's or PC's are better for web development, there's not much argument that Mac OSX is the most popular platfo...">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="//13856">
  <link rel="alternate" type="application/rss+xml" title="Utah Mapping Portal" href="//feed.xml" />
</head>


  <body>

    <header id="header">
  <div class="inner">
    <div id="logo">
      <a href="/">
        <img class="ie_png" src="/images/agrc_logo.png" alt="Utah Mapping Portal" />
      </a>
    </div>
    <div id="top_area">
    </div>
    <nav id="navigation">
      <ul id="menu-main-menu" class="menu">
        <li class="menu-item"><a href="/agrc-newsletter">News</a>
        </li>
        <li class="menu-item"><a href="/data">Data</a>
        </li>
        <li class="menu-item"><a href="/developer">Developer</a>
        </li>
        <li class="menu-item"><a href="/about">About</a>
        </li>
      </ul>
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Mac OSX + VMware Fusion + ESRI's ArcGIS Server</h1>
  </header>

  <article class="post-content">
    <p>While there's endless arguments about whether Mac's or PC's are better for web development, there's not much argument that Mac OSX is the most popular platform for web development today. A few years ago I noticed this trend and decided to make the switch from Windows to Mac for my personal computer. For the most part I have not looked back. It was really nice to be able to follow along with tutorials online and use all of the great tools that are built for the Mac. However, this post is not about convincing you to make the switch; it's about how to use a Mac to develop ArcGIS Server JavaScript applications. It's about how to have your cake and eat it to.</p>
<p>When I finally asked to make the switch to a Mac at work I was faced with a problem. It was not a big deal to spin up a VM with windows server to host ArcGIS Server. However, I didn't want to develop from within my VM. I wanted to continue to use the great development environment that I had in OSX. I also didn't want to write apps that hit ArcGIS Server cross-domain. Hitting ArcGIS Server from localhost on my Mac like this was my goal:</p>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-5FkwSHlgChA/UlQIPLNXbTI/AAAAAAAAMyM/ASaBrx9VVQk/s1600/ScreenCapture+at+Tue+Oct+8+07:26:53+MDT+2013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://4.bp.blogspot.com/-5FkwSHlgChA/UlQIPLNXbTI/AAAAAAAAMyM/ASaBrx9VVQk/s1600/ScreenCapture+at+Tue+Oct+8+07:26:53+MDT+2013.png" /></a></div>
<div class="separator" style="clear: both; text-align: left;">
</div>
<p>After a few months of messing around, I finally came up with a stable solution that works well. I now do all of my testing and development in OSX and am still able to hit ArcGIS Server with relative urls (/ArcGIS/rest/services...) from within my apps. I accomplished this with a few tricks within the virtual machine software that I use, <a href="http://www.vmware.com/products/fusion/">VMware Fusion</a>.</p>
<p>The first goal was to be able to serve projects that are located within my OSX file system through IIS on my Windows Server 2008 virtual machine. This is accomplished by setting up a shared folder in VMware Fusion (Settings -&gt; Sharing).</p>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-Rx-offz84Xw/Ul1AVKewHYI/AAAAAAAAMyw/5IyuivACcn4/s1600/ScreenCapture+at+Tue+Oct+15+07:16:42+MDT+2013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-Rx-offz84Xw/Ul1AVKewHYI/AAAAAAAAMyw/5IyuivACcn4/s1600/ScreenCapture+at+Tue+Oct+15+07:16:42+MDT+2013.png" /></a></div>
<p>
Then I set up a virtual directory in IIS that points to that shared folder.</p>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://4.bp.blogspot.com/-6Z96WA6GyAE/Ul1AuGqUYDI/AAAAAAAAMy4/9gouS8FV02c/s1600/ScreenCapture+at+Tue+Oct+15+07:18:07+MDT+2013.png" imageanchor="1"><img border="0" src="http://4.bp.blogspot.com/-6Z96WA6GyAE/Ul1AuGqUYDI/AAAAAAAAMy4/9gouS8FV02c/s1600/ScreenCapture+at+Tue+Oct+15+07:18:07+MDT+2013.png" /></a></div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: left;">
Make sure that you have the \\vmware-host\ in your path. I had to hand type this in to get it to work. This enabled me to hit my web apps that were stored on my Mac from my Windows IIS. However, to hit my VM from my Mac, I still had to use it's ip address. This was a big pain because by default it is not static which meant I was always having to check my VM's ip address and I couldn't bookmark anything.</div>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: left;">
Finally, I came across <a href="http://nileshk.com/2009/06/24/vmware-fusion-nat-dhcp-and-port-forwarding.html">an article</a> showing how you can assign a static ip address to your guest and then forward localhost on your host to your guest. The first step is to assign a static ip address to your guest VM by appending&nbsp;/Library/Preferences/VMware Fusion/vmnet8/dhcpd.conf. You can read the article for the specifics of what to add. My addition looks like this:</div>
<div class="separator" style="clear: both; text-align: left;">
</div>
<p><a href="http://note.io/1bTPy5Y" imageanchor="1" style="margin-left: 1em; margin-right: 1em; text-align: center;"><img border="0" src="http://note.io/1bTPy5Y" /></a></p>
<p>I don't think that the host name matters as long as you have the correct mac (hardware ethernet) address from your VM.</p>
<p>This change gave my VM the permanent ip address of 192.168.247.100. Then by adding line 55 to /Library/Preferences/VMware Fusion/vmnet8/nat.conf I was able to forward localhost on my Mac to IIS on my VM...</p>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://1.bp.blogspot.com/-hdZiduILImU/Ul1Jc6xVStI/AAAAAAAAMzk/L73nf90uqL4/s1600/ScreenCapture+at+Tue+Oct+15+07:43:31+MDT+2013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-hdZiduILImU/Ul1Jc6xVStI/AAAAAAAAMzk/L73nf90uqL4/s1600/ScreenCapture+at+Tue+Oct+15+07:43:31+MDT+2013.png" /></a></div>
<p>and voila!</p>
<div class="separator" style="clear: both; text-align: center;">
</div>
<div class="separator" style="clear: both; text-align: center;">
<a href="http://3.bp.blogspot.com/-XTJAdC2R_ro/Ul1I_rohJsI/AAAAAAAAMzc/JsXBXtN4st8/s1600/ScreenCapture+at+Tue+Oct+15+07:53:23+MDT+2013.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-XTJAdC2R_ro/Ul1I_rohJsI/AAAAAAAAMzc/JsXBXtN4st8/s1600/ScreenCapture+at+Tue+Oct+15+07:53:23+MDT+2013.png" /></a></div>
<p>
I can now write and debug my apps on my Mac but have them served up through IIS on my windows VM.</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Utah Mapping Portal</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Utah Mapping Portal</li>
          <li><a href="mailto:agrc@utah.gov">agrc@utah.gov</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/agrc">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">agrc</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/MapUtah">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">MapUtah</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Utah Mapping Portal | The Utah Automated Geographic Reference Center</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
